<div class="container">
  <div class="form-container">
    <form [formGroup]="createRecipeForm" (ngSubmit)="createRecipeHandler()">
      <h2>Create a Recipe</h2>
      <div class="input-container">
        <label for="recipe-name">Recipe Name:</label>
        <input type="text" id="recipe-name" name="recipeName"
          formControlName="recipeName" appTrimInput>
      </div>
      <ng-container *ngIf="createRecipeForm.get('recipeName')?.touched">
        <p class="error"
          *ngIf="createRecipeForm.get('recipeName')?.invalid">Recipe name
          is required</p>
      </ng-container>
      <div class="input-container">
        <label for="recipe-image-url">Recipe Image URL:</label>
        <input type="url" id="recipe-image-url" name="recipeImageUrl"
          formControlName="imageUrl"
          appTrimInput>
      </div>
      <ng-container *ngIf="createRecipeForm.get('imageUrl')?.touched">
        <p class="error"
          *ngIf="createRecipeForm.get('imageUrl')?.invalid">Image
          is required</p>
      </ng-container>
      <div class="input-container">
        <label for="difficulty">Difficulty:</label>
        <select class="difficulty" formControlName="difficulty">
          <option value="Easy">Easy</option>
          <option value="Moderate">Moderate</option>
          <option value="Hard">Hard</option>
        </select>
      </div>
      <ng-container *ngIf="createRecipeForm.get('difficulty')?.touched">
        <p class="error"
          *ngIf="createRecipeForm.get('difficulty')?.invalid">Difficulty level
          is required</p>
      </ng-container>
      <div formArrayName="ingredients">
        <div class="input-container"
          *ngFor="let ingredientControl of ingredientControls; let i = index">
          <label>Ingredient {{i + 1}}</label>
          <input type="text" [formControlName]="i" appTrimInput>
          <div class="delete-ingredient" (click)="deleteIngredient(i)">Delete
            ingredient</div>
          <ng-container
            *ngIf="ingredientControl.touched && ingredientControl.invalid">
            <p class="error">Ingredients
              is required</p>
          </ng-container>
        </div>
        <div class="add-ingredient-btn" (click)="addIngredients()">Add
          ingredient</div>
      </div>
      <ng-container
        *ngIf="createRecipeForm.get('ingredients')?.hasError('required') ">
        <p class="error">At least one ingredient is required</p>
      </ng-container>
      <div class="input-container">
        <label for="instructions">Instructions:</label>
        <textarea id="instructions" name="instructions" rows="6"
          formControlName="instructions" appTrimInput></textarea>
      </div>
      <ng-container *ngIf="createRecipeForm.get('instructions')?.touched">
        <p class="error"
          *ngIf="createRecipeForm.get('instructions')?.invalid">Instructions
          is required</p>
      </ng-container>
      <button type="submit">Submit Recipe</button>
    </form>
  </div>
</div>
